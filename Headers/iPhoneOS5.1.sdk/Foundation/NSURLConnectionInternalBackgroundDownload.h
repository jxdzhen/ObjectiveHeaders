/**
 * This header is generated by class-dump-z 0.2a.
 * class-dump-z is Copyright (C) 2009 by KennyTM~, licensed under GPLv3.
 *
 * Source: /System/Library/Frameworks/Foundation.framework/Foundation
 */

#import "Foundation-Structs.h"
#import "NSURLConnectionInternal.h"
#import "SSDownloadManagerObserver.h"
#import "SSDownloadHandlerDelegate.h"
#import "NSURLConnectionRequired.h"

@class NSTimer, NSMutableArray, NSCountedSet, AsyncSSDownloadManager, SSDownloadHandler;

__attribute__((visibility("hidden")))
@interface NSURLConnectionInternalBackgroundDownload : NSURLConnectionInternal <NSURLConnectionRequired, SSDownloadManagerObserver, SSDownloadHandlerDelegate> {
@private
	CFRunLoopSourceRef _source;
	NSMutableArray* _pendingOps;
	NSCountedSet* _runloops;
	SSDownloadHandler* _handler;
	AsyncSSDownloadManager* _manager;
	long long _downloadIdent;
	long long _ctLast;
	BOOL _terminated;
	NSTimer* _deferredStartTimer;
}
+(void)_enableLogging;
+(id)sharedDownloadManagerForMediaKind:(id)mediaKind persistenceIdentifier:(id)identifier;
-(id)initWithInfo:(const InternalInit*)info;
-(void)_createNewDownload;
-(long long)_getDownloadIdent;
-(void)_invalidate;
-(void)_invokeInvocation:(id)invocation withConnection:(id)connection;
-(void)_managerFailedToStartInTime;
-(void)_postTerminalInvocation:(id)invocation;
-(void)_preTerminalInvocation:(id)invocation;
-(void)_sendTerminalDidFinishToDelegate:(id)_sendTerminal;
-(void)_sendTerminalErrorToDelegate:(id)delegate;
-(void)_sourcePerform;
-(void)_updateClientWithCurrentWrites:(id)currentWrites;
-(void)_updateDownloadState:(id)state;
-(void)cancel;
-(void)cancelAuthenticationChallenge:(id)challenge;
-(void)continueWithoutCredentialForAuthenticationChallenge:(id)authenticationChallenge;
-(void)dealloc;
-(id)description;
-(void)downloadHandler:(id)handler cancelSession:(id)session;
-(void)downloadHandler:(id)handler handleAuthenticationSession:(id)session;
-(BOOL)downloadHandler:(id)handler pauseSession:(id)session;
-(void)downloadHandlerDidDisconnect:(id)downloadHandler;
-(void)invokeForDelegate:(id)delegate;
-(void)performDefaultHandlingForAuthenticationChallenge:(id)authenticationChallenge;
-(void)rejectProtectionSpaceAndContinueWithChallenge:(id)challenge;
-(void)scheduleInRunLoop:(id)runLoop forMode:(id)mode;
-(void)setDelegateQueue:(id)queue;
-(void)setHandlerForDownload:(id)download completionBlock:(id)block;
-(void)start;
-(void)unscheduleFromRunLoop:(id)runLoop forMode:(id)mode;
-(void)useCredential:(id)credential forAuthenticationChallenge:(id)authenticationChallenge;
@end

